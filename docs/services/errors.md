# Ошибки и коды (стабильно)

Простые и стабильные правила обработки ошибок.

## Общие коды

- 200 OK — запрос выполнен
- 201 Created — сущность создана (регистрация, создание бренда/товара и т.д.)
- 400 Bad Request — валидация, неправильные параметры
- 401 Unauthorized — требуется аутентификация (нет/неверный токен)
- 403 Forbidden — нет прав/нет контекста
- 404 Not Found — сущность не найдена в вашем контексте
- 409 Conflict — конфликт уникальности (username/email/brand name)
- 422 Unprocessable Entity — бизнес‑ограничения (например, попытка переместить группу к другому бренду)

## Формат ответа об ошибке (пример)

```json
{
  "timestamp": "2025-10-01T12:34:56Z",
  "status": 400,
  "error": "Bad Request",
  "message": "Некорректные данные",
  "path": "/auth/v1/register"
}
```

## Примечания

- Для защищённых ручек `/auth/v1/**` отсутствие контекста возвращает 403 (если аутентифицированы) или 401 (если нет
  токена).
- Репозитории/сервисы возвращают 404 для чужих сущностей (маскируем отсутствие прав как отсутствие ресурса).
